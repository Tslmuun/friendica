# 配置双因素身份验证

* [主页](help)

您可以使用移动应用程序配置双因素身份验证。
基于时间的一次性密码（TOTP）应用程序会自动生成在一定时间后更改的身份验证代码。

**提示**：要在多个设备上配置基于TOTP的身份验证，在设置期间，请同时使用每个设备扫描QR码。
如果已启用双因素身份验证并且您想添加另一个设备，则必须从安全设置重新配置双因素身份验证。

## 启用双因素身份验证

### 1. 下载认证器应用程序

任何认证器应用程序都应该与Friendica兼容。
尽管如此，我们建议使用：

 - 对于iOS，[Matt Rubin的MIT许可证认证器应用程序]（https://mattrubin.me/authenticator）。
 - 对于Android，[andOTP]（https://github.com/andOTP/andOTP）。

### 2. 记录您的一次性恢复代码

从您的[双因素身份验证用户设置]（/settings/2fa）中，输入您的密码并单击“启用双因素身份验证”。

您将看到一系列一次性恢复代码。
请将它们保存在与您的Friendica密码相同的位置（最好使用[ KeePass]（https://keepass.info）等密码管理器）。

完成后，单击“下一步”。

### 3. 设置您的认证器应用程序

有三种方法可以设置您的认证器应用程序：

1. 使用设备相机扫描QR码。
   这将自动在应用程序上配置您的帐户。
2. 单击/点击提供的**totp://** URL。
   理想情况下，您的认证器应该使用此URL调用，并设置您的帐户。
3. 手动输入您的帐户设置。
   Friendica正在使用令牌类型、代码数字计数和哈希算法的默认设置，但您可能需要在应用程序中输入它们。

**提示**：如果您有多个设备，请此时将它们全部配置。

然后，通过提交应用程序提供的代码来验证您的应用程序是否正确配置。
这将完成双因素身份验证配置。

**注意**：如果您在任何时候离开此屏幕而没有提交验证代码，则不会在您的帐户上启用双因素身份验证。
要完成配置，请回到您的[双因素身份验证用户设置]（/settings/2fa），在输入当前密码后单击“完成配置”。

## 禁用双重身份验证

您可以随时通过前往您的[双重身份验证用户设置](/settings/2fa)并在输入当前密码后单击“禁用双重身份验证”来禁用双重身份验证。

您应该从身份验证器应用中删除您的Friendica帐户，因为即使您重新启用双重身份验证，它也不会再起作用。
在这种情况下，您将不得不再次使用上述过程配置您的身份验证器应用。

## 管理一次性恢复码

当启用双重身份验证时，您可以显示您的恢复码，包括已使用的代码。

您可以自由地生成一组新的恢复代码，只需确保在保存先前的代码的位置替换它们，因为它们将不再处于活动状态。

## 第三方应用和API

使用Friendica API的第三方应用无法接受双重身份验证基于时间的身份验证代码。
相反，如果您启用了双重身份验证，则必须生成应用程序特定的随机生成的长密码，以代替您的常规帐户密码。

**注意**：如果您启用了双重身份验证，则无论何时在第三方应用中提示您输入常规密码，它都不起作用。

您可以生成尽可能多的应用程序特定密码，它们将显示给您一次，即在您生成它之后。
在这一点上，只需将其复制并粘贴到Friendica帐户密码输入字段中的第三方应用中即可。
我们建议为您使用的每个单独的第三方应用程序生成一个特定于应用程序的密码，并在描述目标应用程序时使用有意义的描述（例如“我Fairphone 2上的Frienqa”）。

您还可以撤销通过此方式生成的所有应用程序特定密码。
这可能会使您登出使用撤销的应用程序特定密码登录的第三方应用程序。

## 可信任的浏览器

作为方便，在双重身份验证期间，可以将浏览器标识为受信任的。
这将跳过此浏览器上的所有进一步的双重身份验证提示。

您可以在双重身份验证设置中删除任何或所有这些受信任的浏览器。
